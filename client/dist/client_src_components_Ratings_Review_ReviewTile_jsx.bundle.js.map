{"version":3,"file":"client_src_components_Ratings_Review_ReviewTile_jsx.bundle.js","mappings":"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","sources":["webpack://project-adventure/./client/src/Star.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/HighlightText.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/PhotoEntry.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/PhotoList.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/ReviewContent.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/ReviewTile.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/UserInteraction.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nexport default function Star({ score }) {\n  const scorePct = `${Math.floor((score / 5) * 100)}%`;\n  const width = { width: scorePct };\n  return (\n    <StarBlock>\n      <div className=\"ratings\">\n        <div className=\"empty-stars\" />\n        <div\n          className=\"full-stars\"\n          style={width}\n        />\n      </div>\n    </StarBlock>\n  );\n}\n\nStar.propTypes = {\n  score: PropTypes.number.isRequired,\n};\n\nconst StarBlock = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function HighlightText({ text, highlight }) {\n  if (!highlight.trim()) {\n    return <span>{text}</span>;\n  }\n  const regex = new RegExp(`(${highlight})`, 'gi');\n  const parts = text.split(regex);\n\n  return (\n    <span>\n      {parts.filter(String).map((part, i) => (regex.test(part) ? (\n        <mark key={part.concat(i)}>{part}</mark>\n      ) : (\n        <span key={part.concat(i)}>{part}</span>\n      )))}\n    </span>\n  );\n}\n\nHighlightText.propTypes = {\n  text: PropTypes.string.isRequired,\n  highlight: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nfunction PhotoEntry({\n  url,\n  isSelected,\n  index,\n}) {\n  const handleClick = () => {\n    isSelected(index);\n  };\n\n  return (\n    <Thumbnail\n      thumbnail={url}\n      onClick={handleClick}\n    />\n  );\n}\n\nconst Thumbnail = styled.span`\n  height: 75px;\n  width: 75px;\n  background: ${({ thumbnail, theme }) => (thumbnail ? `url(${thumbnail})` : theme.colors.background)};\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nPhotoEntry.propTypes = {\n  url: PropTypes.string,\n  isSelected: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nPhotoEntry.defaultProps = {\n  url: null,\n};\n\nexport default PhotoEntry;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport PhotoEntry from './PhotoEntry';\n\nfunction PhotoList({ photos, isSelected }) {\n  return (\n    <PhotoContainer>\n      {photos.map((photo, index) => (\n        <PhotoEntry\n          isSelected={isSelected}\n          url={photo.url}\n          index={index}\n          key={photo.id}\n        />\n      ))}\n    </PhotoContainer>\n  );\n}\n\nconst PhotoContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: left;\n  gap: 20px;\n  max-width: 400px;\n  padding: 10px 0;\n`;\n\nPhotoList.propTypes = {\n  photos: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  isSelected: PropTypes.func.isRequired,\n};\n\nexport default PhotoList;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { MiniButton } from '../../../contexts/Shared.styled';\nimport HighlightText from './HighlightText';\n\nexport default function ReviewContent({ body, keyword }) {\n  const [showButton, setShowButton] = useState(false);\n  const [modifiedBody, setModifiedBody] = useState(body);\n  const bodyCharLimit = 250;\n\n  useEffect(() => {\n    if (body.length > bodyCharLimit) {\n      setShowButton(true);\n      setModifiedBody(body.slice(0, bodyCharLimit).concat(' ...'));\n    }\n  }, [body]);\n\n  const showMore = () => {\n    setShowButton(!showButton);\n    setModifiedBody(body);\n  };\n\n  return (\n    <ReviewContainer>\n      {keyword\n        ? (\n          <HighlightText\n            text={modifiedBody}\n            highlight={keyword}\n          />\n        )\n        : modifiedBody}\n      {showButton\n        ? (\n          <MiniButton\n            // showButton={showButton}\n            onClick={showMore}\n          >\n            Show More\n          </MiniButton>\n        ) : ''}\n    </ReviewContainer>\n  );\n}\n\n// Style components\nconst ReviewContainer = styled.div`\n  overflow-wrap: break-word;\n  hyphens: manual;\n`;\n\nReviewContent.propTypes = {\n  body: PropTypes.string.isRequired,\n  keyword: PropTypes.string,\n};\n\nReviewContent.defaultProps = {\n  keyword: null,\n};\n","import React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Star from '../../../Star';\nimport PhotoList from './PhotoList';\nimport ReviewContent from './ReviewContent';\nimport UserInteraction from './UserInteraction';\nimport HighlightText from './HighlightText';\nimport { Modal, ModalParent, ModalClose } from '../../../contexts/Shared.styled';\n\nexport default function ReviewTile({\n  review, addHelpVote, reportReview, keyword,\n}) {\n  const {\n    rating, summary, recommend, response, date, body, photos, helpfulness,\n  } = review;\n  const convertedDate = moment(date).format('MMMM D, YYYY');\n  const reviewId = review.review_id;\n  const usernameDate = `${review.reviewer_name},  ${convertedDate}`;\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState('');\n\n  const clickPhoto = (i) => {\n    setModalUrl(photos[i].url);\n    setShowModal(!showModal);\n  };\n\n  const clickExit = () => {\n    setShowModal(false);\n  };\n\n  useEffect(() => {\n    const espExit = (e) => {\n      if (e.key === 'Escape') {\n        setShowModal(false);\n      }\n    };\n    window.addEventListener('keydown', espExit);\n    return () => window.removeEventListener('keydown', espExit);\n  }, []);\n\n  return (\n    <ReviewBlock>\n      <UserRatingRow>\n        <Star score={rating} />\n        {usernameDate}\n      </UserRatingRow>\n      <ReviewHeading>\n        {keyword\n          ? (\n            <HighlightText\n              text={summary}\n              highlight={keyword}\n            />\n          )\n          : summary}\n      </ReviewHeading>\n      <ReviewContent\n        keyword={keyword}\n        body={body}\n      />\n      {recommend && <Recommend> &#10003; I recommend this product</Recommend>}\n      {(response\n        && (\n          <Response>\n            <div>\n              <b>Response from seller:</b>\n            </div>\n            {response}\n          </Response>\n        ))}\n      <PhotoList\n        photos={photos}\n        isSelected={clickPhoto}\n      />\n      <ModalParent\n        className=\"ModalParent\"\n        showModal={showModal}\n      >\n        <Modal\n          className=\"Modal\"\n          showModal={showModal}\n          modal={modalUrl}\n        >\n          <ModalClose\n            onClick={clickExit}\n          >\n            &times;\n          </ModalClose>\n        </Modal>\n      </ModalParent>\n      <UserInteraction\n        addHelpVote={addHelpVote}\n        reviewId={reviewId}\n        helpfulness={helpfulness}\n        reportReview={reportReview}\n      />\n    </ReviewBlock>\n  );\n}\n\n// Style components\nconst ReviewBlock = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0.4rem 0.8rem 0.4rem 0.8rem;\n  padding: 0.25rem 1rem 0.25rem 1rem;\n  background-color: ${({ theme }) => theme.colors.offWhite};\n  &:hover {\n    box-shadow: 0 0 6px ${({ theme }) => theme.colors.hoverShadow}\n  };\n`;\nconst UserRatingRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-size: small;\n`;\n\nconst ReviewHeading = styled.p`\n  font-weight:bold;\n  font-size: medium;\n  padding: 1rem 0 1rem 0;\n`;\n\nconst Response = styled.div`\n  background-color: ${({ theme }) => theme.colors.tertiary};\n  padding: 0.7rem;\n  margin: 0.7rem;\n  box-shadow: 0 0 6px ${({ theme }) => theme.colors.hoverShadow}\n`;\nconst Recommend = styled.div`\n  padding: 0.7rem 0.7rem 0 0.7rem;\n  font-style: italic;\n`;\n\nReviewTile.propTypes = {\n  addHelpVote: PropTypes.func.isRequired,\n  reportReview: PropTypes.func.isRequired,\n  keyword: PropTypes.string,\n  review: PropTypes.shape().isRequired,\n};\n\nReviewTile.defaultProps = {\n  keyword: null,\n};\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport useTracking from '@Contexts/ClickTracker';\nimport { MdOutlineThumbUp, MdThumbUp } from 'react-icons/md';\nimport { ClickableText } from '../../../contexts/Shared.styled';\n\nexport default function Helpfulness({\n  addHelpVote, helpfulness, reportReview, reviewId,\n}) {\n  const { trackEvent } = useTracking({ widget: 'User_Interaction_Review' });\n  const [helpCount, setHelpCount] = useState(helpfulness);\n  const [voteLimiter, setvoteLimiter] = useState(true);\n  const [reportLimiter, setReportLimiter] = useState(true);\n\n  const vote = () => {\n    if (voteLimiter) {\n      trackEvent({ element: 'vote_for_helpful_review' });\n      addHelpVote(reviewId);\n      setHelpCount(helpCount + 1);\n    }\n    setvoteLimiter(voteLimiter && false);\n  };\n\n  const report = () => {\n    if (reportLimiter) {\n      trackEvent({ element: 'report_a_review' });\n      reportReview(reviewId);\n    }\n    setReportLimiter(reportLimiter && false);\n  };\n\n  return (\n    <HelpfulnessContainer>\n      {'Helpful? '}\n      {voteLimiter\n        ? (\n          <ClickableText onClick={vote}>\n            <MdOutlineThumbUp />\n          </ClickableText>\n        ) : (<ClickableText2><MdThumbUp /></ClickableText2>)}\n      (\n      {helpCount}\n      )\n      {'    |   '}\n      {reportLimiter\n        ? (\n          <ClickableText onClick={report}>\n            Report\n          </ClickableText>\n        ) : (<div> Reported</div>)}\n    </HelpfulnessContainer>\n  );\n}\n\n// Style components\n\nconst HelpfulnessContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 0.7rem;\n`;\n\nconst ClickableText2 = styled(ClickableText)`\n  cursor: pointer;\n`;\n\nHelpfulness.propTypes = {\n  helpfulness: PropTypes.number.isRequired,\n  reviewId: PropTypes.number.isRequired,\n  addHelpVote: PropTypes.func.isRequired,\n  reportReview: PropTypes.func.isRequired,\n};\n"],"names":["React","PropTypes","styled","Star","score","scorePct","Math","floor","width","propTypes","number","isRequired","StarBlock","div","HighlightText","text","highlight","trim","regex","RegExp","parts","split","filter","String","map","part","i","test","concat","string","PhotoEntry","url","isSelected","index","handleClick","Thumbnail","span","thumbnail","theme","colors","background","func","defaultProps","PhotoList","photos","photo","id","PhotoContainer","arrayOf","shape","useState","useEffect","MiniButton","ReviewContent","body","keyword","showButton","setShowButton","modifiedBody","setModifiedBody","bodyCharLimit","length","slice","showMore","ReviewContainer","moment","UserInteraction","Modal","ModalParent","ModalClose","ReviewTile","review","addHelpVote","reportReview","rating","summary","recommend","response","date","helpfulness","convertedDate","format","reviewId","review_id","usernameDate","reviewer_name","showModal","setShowModal","modalUrl","setModalUrl","clickPhoto","clickExit","espExit","e","key","window","addEventListener","removeEventListener","ReviewBlock","offWhite","hoverShadow","UserRatingRow","ReviewHeading","p","Response","tertiary","Recommend","useTracking","MdOutlineThumbUp","MdThumbUp","ClickableText","Helpfulness","widget","trackEvent","helpCount","setHelpCount","voteLimiter","setvoteLimiter","reportLimiter","setReportLimiter","vote","element","report","HelpfulnessContainer","ClickableText2"],"sourceRoot":""}