{"version":3,"file":"client_src_components_Ratings_Review_ReviewTile_jsx.bundle.js","mappings":"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","sources":["webpack://project-adventure/./client/src/components/Ratings/Review/HighlightText.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/PhotoEntry.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/PhotoList.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/ReviewContent.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/ReviewTile.jsx","webpack://project-adventure/./client/src/components/Ratings/Review/UserInteraction.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default function HighlightText({ text, highlight }) {\n  if (!highlight.trim()) {\n    return <span>{text}</span>;\n  }\n  const regex = new RegExp(`(${highlight})`, 'gi');\n  const parts = text.split(regex);\n\n  return (\n    <span>\n      {parts.filter(String).map((part, i) => (regex.test(part) ? (\n        <mark key={part.concat(i)}>{part}</mark>\n      ) : (\n        <span key={part.concat(i)}>{part}</span>\n      )))}\n    </span>\n  );\n}\n\nHighlightText.propTypes = {\n  text: PropTypes.string.isRequired,\n  highlight: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nfunction PhotoEntry({\n  url,\n  isSelected,\n  index,\n}) {\n  const handleClick = () => {\n    isSelected(index);\n  };\n\n  return (\n    <Thumbnail\n      thumbnail={url}\n      onClick={handleClick}\n    />\n  );\n}\n\nconst Thumbnail = styled.span`\n  height: 75px;\n  width: 75px;\n  background: ${({ thumbnail, theme }) => (thumbnail ? `url(${thumbnail})` : theme.colors.background)};\n  background-size: cover;\n  background-position: center;\n  position: relative;\n  cursor: pointer;\n`;\n\nPhotoEntry.propTypes = {\n  url: PropTypes.string,\n  isSelected: PropTypes.func.isRequired,\n  index: PropTypes.number.isRequired,\n};\n\nPhotoEntry.defaultProps = {\n  url: null,\n};\n\nexport default PhotoEntry;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport PhotoEntry from './PhotoEntry';\n\nfunction PhotoList({ photos, isSelected }) {\n  return (\n    <PhotoContainer>\n      {photos.map((photo, index) => (\n        <PhotoEntry\n          isSelected={isSelected}\n          url={photo.url}\n          index={index}\n          key={photo.id}\n        />\n      ))}\n    </PhotoContainer>\n  );\n}\n\nconst PhotoContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: left;\n  gap: 20px;\n  max-width: 400px;\n  padding: 10px 0;\n`;\n\nPhotoList.propTypes = {\n  photos: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n  isSelected: PropTypes.func.isRequired,\n};\n\nexport default PhotoList;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { MiniButton } from '../../../contexts/Shared.styled';\nimport HighlightText from './HighlightText';\n\nexport default function ReviewContent({ body, keyword }) {\n  const [showButton, setShowButton] = useState(false);\n  const [modifiedBody, setModifiedBody] = useState(body);\n  const bodyCharLimit = 250;\n\n  useEffect(() => {\n    if (body.length > bodyCharLimit) {\n      setShowButton(true);\n      setModifiedBody(body.slice(0, bodyCharLimit).concat(' ...'));\n    }\n  }, [body]);\n\n  const showMore = () => {\n    setShowButton(!showButton);\n    setModifiedBody(body);\n  };\n\n  return (\n    <ReviewContainer>\n      {keyword\n        ? (\n          <HighlightText\n            text={modifiedBody}\n            highlight={keyword}\n          />\n        )\n        : modifiedBody}\n      {showButton\n        ? (\n          <MiniButton\n            // showButton={showButton}\n            onClick={showMore}\n          >\n            Show More\n          </MiniButton>\n        ) : ''}\n    </ReviewContainer>\n  );\n}\n\n// Style components\nconst ReviewContainer = styled.div`\n  overflow-wrap: break-word;\n  hyphens: manual;\n`;\n\nReviewContent.propTypes = {\n  body: PropTypes.string.isRequired,\n  keyword: PropTypes.string,\n};\n\nReviewContent.defaultProps = {\n  keyword: null,\n};\n","import React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Star from '../../../Star';\nimport PhotoList from './PhotoList';\nimport ReviewContent from './ReviewContent';\nimport UserInteraction from './UserInteraction';\nimport HighlightText from './HighlightText';\nimport { Modal, ModalParent, ModalClose } from '../../../contexts/Shared.styled';\n\nexport default function ReviewTile({\n  review, addHelpVote, reportReview, keyword,\n}) {\n  const {\n    rating, summary, recommend, response, date, body, photos, helpfulness,\n  } = review;\n  const convertedDate = moment(date).format('MMMM D, YYYY');\n  const reviewId = review.review_id;\n  const usernameDate = `${review.reviewer_name},  ${convertedDate}`;\n  const [showModal, setShowModal] = useState(false);\n  const [modalUrl, setModalUrl] = useState('');\n\n  const clickPhoto = (i) => {\n    setModalUrl(photos[i].url);\n    setShowModal(!showModal);\n  };\n\n  const clickExit = () => {\n    setShowModal(false);\n  };\n\n  useEffect(() => {\n    const espExit = (e) => {\n      if (e.key === 'Escape') {\n        setShowModal(false);\n      }\n    };\n    window.addEventListener('keydown', espExit);\n    return () => window.removeEventListener('keydown', espExit);\n  }, []);\n\n  return (\n    <ReviewBlock>\n      <UserRatingRow>\n        <Star score={rating} />\n        {usernameDate}\n      </UserRatingRow>\n      <ReviewHeading>\n        {keyword\n          ? (\n            <HighlightText\n              text={summary}\n              highlight={keyword}\n            />\n          )\n          : summary}\n      </ReviewHeading>\n      <ReviewContent\n        keyword={keyword}\n        body={body}\n      />\n      {recommend && <Recommend> &#10003; I recommend this product</Recommend>}\n      {(response\n        && (\n          <Response>\n            <div>\n              <b>Response from seller:</b>\n            </div>\n            {response}\n          </Response>\n        ))}\n      <PhotoList\n        photos={photos}\n        isSelected={clickPhoto}\n      />\n      <ModalParent\n        className=\"ModalParent\"\n        showModal={showModal}\n      >\n        <Modal\n          className=\"Modal\"\n          showModal={showModal}\n          modal={modalUrl}\n        >\n          <ModalClose\n            onClick={clickExit}\n          >\n            &times;\n          </ModalClose>\n        </Modal>\n      </ModalParent>\n      <UserInteraction\n        addHelpVote={addHelpVote}\n        reviewId={reviewId}\n        helpfulness={helpfulness}\n        reportReview={reportReview}\n      />\n    </ReviewBlock>\n  );\n}\n\n// Style components\nconst ReviewBlock = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0.4rem 0.8rem 0.4rem 0.8rem;\n  padding: 0.25rem 1rem 0.25rem 1rem;\n  background-color: ${({ theme }) => theme.colors.offWhite};\n  &:hover {\n    box-shadow: 0 0 6px ${({ theme }) => theme.colors.hoverShadow}\n  };\n`;\nconst UserRatingRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  font-size: small;\n`;\n\nconst ReviewHeading = styled.p`\n  font-family: ${({ theme }) => theme.fonts.title.family};\n  color: ${({ theme }) => theme.colors.primary};\n  padding: 1rem 0 1rem 0;\n`;\n\nconst Response = styled.div`\n  background-color: ${({ theme }) => theme.colors.tertiary};\n  padding: 0.7rem;\n  margin: 0.7rem;\n  box-shadow: 0 0 6px ${({ theme }) => theme.colors.hoverShadow}\n`;\nconst Recommend = styled.div`\n  padding: 0.7rem 0.7rem 0 0.7rem;\n  font-style: italic;\n`;\n\nReviewTile.propTypes = {\n  addHelpVote: PropTypes.func.isRequired,\n  reportReview: PropTypes.func.isRequired,\n  keyword: PropTypes.string,\n  review: PropTypes.shape().isRequired,\n};\n\nReviewTile.defaultProps = {\n  keyword: null,\n};\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport useTracking from '@Contexts/ClickTracker';\nimport { MdOutlineThumbUp, MdThumbUp } from 'react-icons/md';\nimport { ClickableText } from '../../../contexts/Shared.styled';\n\nexport default function Helpfulness({\n  addHelpVote, helpfulness, reportReview, reviewId,\n}) {\n  const { trackEvent } = useTracking({ widget: 'User_Interaction_Review' });\n  const [helpCount, setHelpCount] = useState(helpfulness);\n  const [voteLimiter, setvoteLimiter] = useState(true);\n  const [reportLimiter, setReportLimiter] = useState(true);\n\n  const vote = () => {\n    if (voteLimiter) {\n      trackEvent({ element: 'vote_for_helpful_review' });\n      addHelpVote(reviewId);\n      setHelpCount(helpCount + 1);\n    }\n    setvoteLimiter(voteLimiter && false);\n  };\n\n  const report = () => {\n    if (reportLimiter) {\n      trackEvent({ element: 'report_a_review' });\n      reportReview(reviewId);\n    }\n    setReportLimiter(reportLimiter && false);\n  };\n\n  return (\n    <HelpfulnessContainer>\n      {'Helpful? '}\n      {voteLimiter\n        ? (\n          <ClickableText onClick={vote}>\n            <MdOutlineThumbUp />\n          </ClickableText>\n        ) : (<ClickableText2><MdThumbUp /></ClickableText2>)}\n      (\n      {helpCount}\n      )\n      {'    |   '}\n      {reportLimiter\n        ? (\n          <ClickableText onClick={report}>\n            Report\n          </ClickableText>\n        ) : (<div> Reported</div>)}\n    </HelpfulnessContainer>\n  );\n}\n\n// Style components\n\nconst HelpfulnessContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 0.7rem;\n`;\n\nconst ClickableText2 = styled(ClickableText)`\n  cursor: pointer;\n`;\n\nHelpfulness.propTypes = {\n  helpfulness: PropTypes.number.isRequired,\n  reviewId: PropTypes.number.isRequired,\n  addHelpVote: PropTypes.func.isRequired,\n  reportReview: PropTypes.func.isRequired,\n};\n"],"names":["React","PropTypes","HighlightText","text","highlight","trim","regex","RegExp","parts","split","filter","String","map","part","i","test","concat","propTypes","string","isRequired","styled","PhotoEntry","url","isSelected","index","handleClick","Thumbnail","span","thumbnail","theme","colors","background","func","number","defaultProps","PhotoList","photos","photo","id","PhotoContainer","div","arrayOf","shape","useState","useEffect","MiniButton","ReviewContent","body","keyword","showButton","setShowButton","modifiedBody","setModifiedBody","bodyCharLimit","length","slice","showMore","ReviewContainer","moment","Star","UserInteraction","Modal","ModalParent","ModalClose","ReviewTile","review","addHelpVote","reportReview","rating","summary","recommend","response","date","helpfulness","convertedDate","format","reviewId","review_id","usernameDate","reviewer_name","showModal","setShowModal","modalUrl","setModalUrl","clickPhoto","clickExit","espExit","e","key","window","addEventListener","removeEventListener","ReviewBlock","offWhite","hoverShadow","UserRatingRow","ReviewHeading","p","fonts","title","family","primary","Response","tertiary","Recommend","useTracking","MdOutlineThumbUp","MdThumbUp","ClickableText","Helpfulness","widget","trackEvent","helpCount","setHelpCount","voteLimiter","setvoteLimiter","reportLimiter","setReportLimiter","vote","element","report","HelpfulnessContainer","ClickableText2"],"sourceRoot":""}